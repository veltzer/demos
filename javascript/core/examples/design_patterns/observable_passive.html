<script>
// Here comes a model with no regard to listeners
function Person(name,age) {
	this.name=name;
	this.age=age;
}
Person.prototype.setName=function(name) {
	this.name=name;
}
Person.prototype.getName=function() {
	return this.name;
}

// here comes the listener
function MakeItListen(classname) {
	for(x in classname.prototype) {
		var tmp=classname.prototype[x];
		classname.prototype[x]=function() {
			tmp(arguments);
			alert("something was changed "+arguments[0]+","+x+","+classname);
		}
	}
}

MakeItListen(Person);
var p=new Person("mark",435);
p.setName("shay");
p.getName();
</script>
